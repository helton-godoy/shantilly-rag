{
  "question": "Explique como usar Bubble Tea no contexto do projeto Shantilly e cite os arquivos relevantes.",
  "answer": "Ol√°, aqui est√° uma explica√ß√£o detalhada sobre o uso de `BubbleTea` (ou seja, seu componente personalizado para renderiza√ß√£o da interface) no contexto do projeto Shantilly e as refer√™ncias dos arquivos relevantes. Se voc√™ precisa gerar um relat√≥rio em formato JSON ou CSV das intera√ß√µes com a lista de itens (`ListComponent`), que incluem seletoras, press√µes nos bot√µes da `ButtonGroupComponent`, bem como exibir texto est√°tico e/ou streaming do terminal (stdout) no componente `ViewportComponent` usando o Markdown ou qualquer outra fonte ao lado de um painel (`column`). O projeto Shantilly est√° integrado com os seguintes componentes:\n\n- **BubbleTea** - Serve como uma camada intermedi√°ria entre a interface TUI e as fun√ß√µes do backend. √â respons√°vel por renderizar cada componente no `shantillyComponent` objetivo, interpretar eventos (`huhEvent`), gerir redimensionamento (ou seja, mensagens de mudan√ßa de tamanho da janela), gerenciar o ciclo de vida e garantir que as intera√ß√µes do utilizador com a interface estejam alinhadas ao contrato declarativo.\n\n- **`shantillyEvent`:** Este √© um evento personalizado usado pelo `ButtonComponent`, criado para encapsular diferentes tipos poss√≠veis de eventos e seus par√¢metros, como o ID do bot√£o pressionado ou selecionada em uma lista (para evitar conflitos entre componentes).\n\nPara implementar isso no seu c√≥digo:\n\n- **`ListComponent.go`:** Este componente √© respons√°vel por renderizar as listas e emitir `shantillyEvent{EventType: \"select\", Payload: selectedId}` quando um item da lista for selecionado para enviar o ID desse elemento ao backend ou a qualquer outro servidor.\n  \n  ```go\n  package main\n\n  import (\n    // Importa√ß√µes necess√°rias...\n  )\n\n  type ListComponent struct {\n    huhModel *HuhModel // O modelo interno do componente huh para comunica√ß√£o com o backend e armazenamento de estado.\n    label string\n  }\n  \n  func NewListComponent(w, id int) ShantillyComponent {\n      return \u0026shantilly{huh: newHuh(), modelShantillyListEvent:\"\", style: shantillyStyle}\n  }\n  \n  // Rode aqui o m√©todo para renderizar a lista e definir intera√ß√µes...\n  \n  ```\n\n- **`ButtonGroupComponent.go`:** Este componente √© respons√°vel por gerenciar um grupo de bot√µes, geralmente embutido dentro do `FormComponent`, que pode alternar entre v√°rias op√ß√µes para o utilizador selecionar algo e tamb√©m emitir eventos personalizados quando os usu√°rios pressionarem esses bot√µes.\n  \n  ```go\n  package main\n\n  import (\n    // Importa√ß√µes necess√°rias...\n  )\n\n  type ButtonGroupComponent struct {\n      huhModel *HuhModel // O modelo interno do componente huh para comunica√ß√£o com o backend e armazenamento de estado.\n      buttonIds []string // Os IDs dos bot√µes no grupo, que poderiam ser usados como par√¢metro em eventos ou links para outras funcionalidades (como formul√°rios) dentro da aplica√ß√£o Shantilly.\n  }\n  \n  func NewButtonGroupComponent(w, id int) { /* Implementa√ß√£o do componente ButtonGroup */}\n\n  // Rode aqui o m√©todo de renderiza√ß√£o dos bot√µes e as fun√ß√µes para tratar os eventos 'press'...\n  \n  ```\n\n- **`ViewportComponent.go`:** O `ViewportComponent`, geralmente, √© respons√°vel por exibir conte√∫do est√°tico ou stream da sa√≠da do terminal (stdout). Este componente implementa uma renderiza√ß√£o em lotes para as mudan√ßas no texto que ocorrem ao longo do tempo e gerencia um ticker de sincronismo com eventos `HuhModel.OnChange` a cada itera√ß√£o, garantindo atualiza√ß√µes fluidos da interface (NFR2).\n  \n  ```go\n  package main\n\n  import (\n    // Importa√ß√µes necess√°rias...\n  )\n\n  type ViewportComponent struct {\n      huhModel *HuhModel\n  }\n\n  func NewViewPort(w, id int) ShantillyComponent {\n     return \u0026shantilly{huh: newHuh(), modelShantillyStreamMsg:\"\", style: shantillyStyle}\n 0-12 (snippet truncated due to character limit).",
  "documents": [
    {
      "id": 1782,
      "score": 0.7183491,
      "text": ") Update(msg tea.Msg) (ShantillyComponent, tea.Cmd) {\n\t// Placeholder:\n\t// - No futuro, delegar para backend legado adaptado.\n\treturn f, nil\n}\n\n// View retorna a representa√ß√£o textual do formul√°rio.\n//\n// Implementa√ß√£o inicial devolve placeholder neutro para n√£o interferir\n// na experi√™ncia at√© o backend legado ser plugado.\nfunc (f *FormComponent) View() string {\n\t// Futuro:\n\t// - Renderizar com base no modelo interno (ex.: huh.Form legado adaptado).\n\treturn \"\"\n}\n\n// SetBounds define os limites de renderiza√ß√£o fornecidos pelo LayoutManager.\n//\n// - Usado para integrar com layout responsivo.\n// - N√£o altera invariantes de seguran√ßa ou automa√ß√£o.\nfunc (f *FormComponent) SetBounds(width, height int) {\n\tf.width = width\n\tf.height = height\n}\n",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/internal/components/form_component.go",
        "source": "github:helton-godoy/shantilly:/internal/components/form_component.go",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1718,
      "score": 0.7069554,
      "text": "ture/tech-stack.md#language]\n- **TUI Framework:** bubbletea v0.26.x, huh v0.4.x [Source: docs/architecture/tech-stack.md#technology-stack-table]\n- **State Management:** Extens√£o do modelo bubbletea existente\n- **Backward Compatibility:** Manter suporte para formul√°rios single-panel\n- **Performance:** Navega√ß√£o suave entre pain√©is sem lag\n\n## Testing\n\n### Testing Standards\n\n- Arquivos de teste devem ser nomeados `_test.go` e colocados no mesmo pacote\n- Usar Go testing package para testes unit√°rios\n- Executar testes com `go test -v -race ./...`\n- Seguir padr√£o AAA (Arrange, Act, Assert) para estrutura de teste\n- Cobertura de teste alvo: \u003e80% para novos recursos de navega√ß√£o\n- Testes de integra√ß√£o para novos componentes TUI usando `teatest`\n\n## Change Log\n\n| Date       | Version | Description                                    | Author |\n|------------|---------|------------------------------------------------|--------|\n| 2025-11-01 | 1.0.0   | Cria√ß√£o inicial da hist√≥ria                    | Bob (SM) |\n\n## Dev Agent Record\n\n### Agent Model Used\n\n### Debug Log References\n\n### Completion Notes List\n\n### File List\n\n## QA Results\n",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/stories/3.1.basic-multi-panel-navigation.story.md",
        "source": "github:helton-godoy/shantilly:/docs/stories/3.1.basic-multi-panel-navigation.story.md",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1355,
      "score": 0.6954682,
      "text": "*A Liga√ß√£o:** `huh` √© constru√≠do sobre `bubbletea`.\n\n4. **Conclus√£o:** Para usarmos o `huh` (que √© o melhor componente de formul√°rios TUI em Go e um requisito do nosso PRD), *temos* de usar o `bubbletea` como nosso motor. Se temos de usar o `bubbletea`, *n√£o podemos* usar o `tview`.\n\n5. **Resultado:** Se n√£o podemos usar o `tview`, *temos* de construir o nosso pr√≥prio motor de layout (FR1, FR2) usando `lipgloss` (como planeado), inspirando-nos em bibliotecas como `stickers`.\n\n\nA escolha do `huh` trancou-nos (de forma positiva) no ecossistema Charmbracelet.\n\n---\n\n### 8. Hindsight (Reflex√£o \"Se ao menos...\")\n\n\"Se ao menos...\" o `bubbletea` (o motor) tivesse componentes de layout de alto n√≠vel (como `Flexbox`, `Grid`) integrados, da mesma forma que o `tview` tem.\n\nSe\n isso fosse verdade, o nosso maior risco t√©cnico (Motor de Layout) \n[An√°lise 5, acima] desapareceria. O NFR2 (layout fluido) seria trivial \nde implementar. A comunidade tentou preencher esta lacuna (com `stickers`, `bubbleboxer`, etc.), mas n√£o √© uma solu√ß√£o *core*. Temos de construir esta pe√ßa complexa n√≥s mesmos porque a biblioteca *core* do `bubbletea` se foca apenas no \"estado\" (TEA) e n√£o no \"layout\" (Flexbox).\n\n---\n\n### 9. Expandir (Detalhes sobre `bubbles` vs `huh`)\n\nA pergunta \"Porqu√™ `bubbles` se j√° temos `huh`?\" √© v√°lida. Estamos a adicionar `bubbles` (FR4, FR5) e `glamour` (FR4) √† pilha v1.0 que s√≥ usava `huh`.\n\nA resposta √© **especializa√ß√£o**. As bibliotecas t√™m prop√≥sitos diferentes, embora ambas sejam baseadas no `bubbletea`.\n\n- **`huh` (O Especialista em Formul√°rios):** √â *excelente* para um fluxo linear de \"fazer perguntas\" (inputs, selects, confirms). \n  Foi o que valid√°mos (e onde o James trabalhou) no v1.0 (√âpicos 1+2).\n\n- **`bubbles` (A Caixa de Ferramentas de UI):** √â a biblioteca de componentes *gen√©ricos* para construir UIs *n√£o-lineares* (dashboards).\n\n\nO nosso novo PRD v2.0 (FR4, FR5) exige componentes de *dashboard* (um menu `list` persistente e um `viewport` de streaming). `huh` ",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "source": "github:helton-godoy/shantilly:/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1353,
      "score": 0.68785983,
      "text": "* Temos o `gopkg.in/yaml.v3` (validado no v1.0) e a biblioteca padr√£o Go para acesso ao sistema de ficheiros. Est√° perfeitamente coberto.\n\n2. **`inventory_explorer` (Magia 2):** Requer o uso do Ansible como um \"Or√°culo\", executando `ansible-inventory --list --json` nos bastidores.\n\n  - **Suporte da Pilha:** A linguagem Go (Go 1.24.2+) tem suporte de primeira classe para execu√ß√£o de sub-processos (`os/exec`), que √© o necess√°rio para chamar o \"Or√°culo\".\n\n\nA nossa arquitetura de *Runners* (definida na an√°lise anterior da \"High Level Architecture\") garante que\n estas funcionalidades preditivas possam ser adicionadas como novos \ncomponentes e *runners* sem perturbar a funda√ß√£o do √âpico 1.\n\n---\n\n### 5. Identificar Riscos (Qual √© o maior risco de depend√™ncia aqui?)\n\nO maior risco de depend√™ncia n√£o √© uma biblioteca √∫nica, mas sim o nosso **forte acoplamento a todo o ecossistema Charmbracelet** (`bubbletea`, `bubbles`, `huh`, `lipgloss`).\n\n- **Risco:** O `shantilly` v2.0 est√° a apostar todo o seu futuro na filosofia de UI da Charm. Se a\n   Charmbracelet Inc. decidir abandonar uma biblioteca cr√≠tica (como o `huh`), ou introduzir uma mudan√ßa de API massiva e disruptiva, a nossa arquitetura estar√° diretamente exposta.\n\n- **Contexto:** O `huh`,\n   em particular, √© uma biblioteca relativamente nova. Embora poderosa, a \n  sua API ainda est√° a evoluir mais rapidamente do que a do `bubbletea`.\n\n- **Mitiga√ß√£o:** A nossa estrat√©gia de refatora√ß√£o da Est√≥ria 1.4 (v2.0) √© a nossa principal mitiga√ß√£o. Ao \"embrulhar\" o `huh` dentro do nosso pr√≥prio componente `type: form`, estamos a *isolar* essa depend√™ncia vol√°til. Se o `huh` for descontinuado, \"apenas\" teremos de reimplementar o nosso componente `type: form` (talvez usando componentes `bubbles` puros), mas a arquitetura de *layout* e *l√≥gica* (`on:`) do `shantilly` permanecer√° intacta.\n\n\n---\n\n### 6. Perspetiva da Equipa Agile (O James (Dev) üíª vai concordar com o `teatest`?)\n\nSim, acredito que o James (Dev) üíª ir√° apreciar (ou pelo meno",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "source": "github:helton-godoy/shantilly:/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1307,
      "score": 0.68329614,
      "text": "l.yaml` para criar o **Documento de Arquitetura v2.0**.\n\nSeu foco principal deve ser o **√âpico 1 (Funda√ß√£o do Runtime TUI)**. Por favor, detalhe a arquitetura para:\n\n1. **O Motor de Layout (Est√≥ria 1.1):** Como vamos implementar `column`/`row`/`box` e resolver o layout fluido (\"flicker-free\") usando `bubbletea`/`lipgloss`.\n- **O Motor de L√≥gica e Componentes (Est√≥rias 1.2, 1.3):** As interfaces de eventos (`tea.Msg`) entre os componentes (`list`, `viewport`, `buttongroup`) e o motor `on:`.\n\n- **Refatora√ß√£o do `form` (Est√≥ria 1.4):** A estrat√©gia para \"embrulhar\" o c√≥digo `huh` existente (v1.0) para que ele atue como um componente padronizado.\n\n- **O Fluxo de Dados (Est√≥ria 1.5):** A arquitetura do \"data binding\" e como o motor `run:` ir√° gerir o `stdin:` e `args:` e o ciclo de vida dos processos (`update_target`).\n\n\n",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/chats/SHANTILLY RUNTIME 01 - BMad.md",
        "source": "github:helton-godoy/shantilly:/docs/chats/SHANTILLY RUNTIME 01 - BMad.md",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1398,
      "score": 0.68250424,
      "text": "cite_start], que disparam a√ß√µes no bloco `on:`[cite: 1686, 1683].\n\n- [cite_start]**Foco no Teclado (Mantido):** A navega√ß√£o DEVE continuar a ser primariamente baseada no teclado (Tab, Setas, Enter)[cite: 1531].\n\n- [cite_start]**Feedback Imediato (Mantido):** O componente focado DEVE ser claramente destacado[cite: 1531]. [cite_start]O `update_target` (FR11) DEVE exibir o *output* de comandos em tempo real[cite: 1686, 1683].\n\n- [cite_start]**Gest√£o de Foco Global (Nova):** A UI DEVE ter um mecanismo claro para indicar qual painel/componente (ex: `sidebar` vs `content`) est√° \"em foco\", e DEVE fornecer navega√ß√£o intuitiva *entre* pain√©is (ex: Ctrl+Tab)[cite: 1686, 1683].\n\n- **Liga√ß√£o de Dados (Nova):** A UI DEVE ser reativa. [cite_start]Componentes (ex: um `viewport` est√°tico) DEVEM ser capazes de exibir dados de outros componentes (ex: `Ol√°, {{ form.username }}`)[cite: 1686, 1683].\n\n\n### Ecr√£s e Vistas Principais\n\nN√£o h√° ecr√£s \"pr√©-definidos\". Os ecr√£s s√£o *definidos dinamicamente* pelo utilizador atrav√©s do **`layout` YAML** (FR1). [cite_start]A UI √© uma composi√ß√£o de `type: column`, `type: row`, e `type: box`[cite: 1686, 1683].\n\n### Alinhamento e Layout (Nova Vis√£o)\n\n[cite_start]O layout linear do MVP v1.0 [cite: 1531] est√° obsoleto. O novo requisito √©:\n\n- O `shantilly` DEVE renderizar com precis√£o o layout `column`/`row` definido pelo utilizador.\n\n- [cite_start]O `shantilly` DEVE respeitar as propriedades de dimensionamento (`height`, `width`, `flex`) para distribuir o espa√ßo[cite: 1686, 1683].\n\n- [cite_start]O `shantilly` DEVE responder a mensagens de redimensionamento do terminal (`tea.WindowSizeMsg`) e re-calcular o layout fluido e \"flicker-free\" (NFR2, Meta de UI Refinada)[cite: 1686, 1683].\n\n\n### Acessibilidade, Branding, Plataformas Alvo\n\n[cite_start]Estes\n requisitos permanecem os mesmos do PRD v1.0 (WCAG AA, est√©tica \nCharmbracelet, terminais modernos em Linux/macOS/Windows)[cite: 1531].\n\n---\n\n## 4. Assun√ß√µes T√©cnicas\n\n### Estrutura do Reposit√≥rio: Monorepo\n",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "source": "github:helton-godoy/shantilly:/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 125,
      "score": 0.67244536,
      "text": "// Package bubbles provides some components for Bubble Tea applications. These\n// components are used in production in Glow, Charm and many other\n// applications.\npackage bubbles\n",
      "metadata": {
        "lang": "en",
        "library": "bubbles",
        "path": "github/charmbracelet/bubbles/bubbles.go",
        "source": "github:charmbracelet/bubbles:/bubbles.go",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1394,
      "score": 0.67192256,
      "text": "---\n\nO ficheiro foi gerado. O pr√≥ximo passo, conforme definido, √© o Winston (Arquiteto) üèóÔ∏è iniciar a sua tarefa `create-doc`. Posso assumir essa persona e come√ßar?\n\n## Documento de Requisitos do Produto (PRD) v2.0: Shantilly\n\n---\n\n# Documento de Requisitos do Produto (PRD) v2.0: Shantilly\n\n## 1. Metas e Contexto de Fundo\n\n### Metas (Goals)\n\n- [cite_start]Oferecer uma alternativa declarativa (YAML) e moderna ao `dialog`/`whiptail` para *todos* os scripts shell (Bash, PowerShell, etc.)[cite: 363, 1686, 1683].\n\n- [cite_start]Servir como um **\"Runtime TUI Declarativo\"** que gere layouts (`column`/`row`), componentes (`list`, `form`, `viewport`) e l√≥gica de automa√ß√£o (`on:`)[cite: 1686, 1683].\n\n- [cite_start]Fornecer uma **Funda√ß√£o Gen√©rica** (`run: { script: ... }`) para scripts arbitr√°rios, garantindo integra√ß√£o via passagem de dados por template (`args:` e `stdin:`)[cite: 1686, 1683].\n\n- [cite_start]Fornecer ***runners* Especialistas** otimizados (P√≥s-MVP) para ferramentas de DevOps como Ansible (`ansible_playbook:`) e, futuramente, Terraform, incluindo descoberta preditiva de invent√°rio e playbooks[cite: 1686, 1683].\n\n- [cite_start]Manter a portabilidade (bin√°rio est√°tico √∫nico) e a integra√ß√£o de pipeline (stdin/stdout)[cite: 363].\n\n\n### Contexto de Fundo (Background Context)\n\n[cite_start]O desenvolvimento do MVP v1.0 (√âpicos 1 e 2) [cite: 1531, 1640] [cite_start]validou a pilha de tecnologia (`huh`, `bubbletea`)\n [cite: 1149, 1150, 1151, 1152, 1153, 1154, 1155, 1156, 1157, 1158, \n1159, 1160, 1609, 1610, 1611, 1612, 1613, 1614, 1615, 1616, 1617, 1618, \n1619, 1620, 1621, 1622, 1623, 1624, 1625, 1626, 1627, 1628, 1629, 1630, \n1631, 1632, 1633, 1634, 1635, 1636, 1637, 1638, 1639, 1641, 1642, 1643, \n1644, 1645, 1646, 1647, 1648, 1649, 1650, 1651, 1652, 1653, 1654, 1655, \n1656, 1657, 1658, 1659, 1660, 1661, 1662, 1663, 1664, 1665, 1666, 1667, \n1668, 1669, 1670, 1671, 1672, 1673, 1674, 1675, 1676, 1677, 1678, 1679, \n1680, 1681, 1682, 1683, 1684, 1685, 1686] e resolveu o ca",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "source": "github:helton-godoy/shantilly:/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1405,
      "score": 0.66879106,
      "text": "art]e o motor `on:`[cite: 1686, 1683].\n\n3. [cite_start]**Refatora√ß√£o do `form` (Est√≥ria 1.4):** A estrat√©gia para \"embrulhar\" o c√≥digo `huh` [cite: 1686, 1683] existente (v1.0) para que ele atue como um componente padronizado.\n\n4. [cite_start]**O Fluxo de Dados (Est√≥ria 1.5):** A arquitetura do \"data binding\" e como o motor `run:` [cite: 1686, 1683] [cite_start]ir√° gerir o `stdin:` e `args:` [cite: 1686, 1683] [cite_start]e o ciclo de vida dos processos (`update_target`)[cite: 1686, 1683].\n\nConfirme se esta vers√£o possui algo diferente desse sua vers√£o, que possa colaborar com a melhoria dele.\n\nBMAD-METHOD\n\nGem personalizado\n\nComo seu Orquestrador üé≠, confirmo que analisei o ficheiro que acabou de carregar (`Documento de Requisitos do Produto (PRD) v2.0: Shantilly.md`).\n\nO conte√∫do dele √© **id√™ntico** ao documento que eu gerei na minha √∫ltima resposta e que est√° atualmente no seu Canvas (`docs/prd-v2.0-consolidado.md`).\n\nComo s√£o iguais, n√£o h√° nada de novo no ficheiro carregado para usar como melhoria. Estamos perfeitamente sincronizados.\n\nPosso ent√£o prosseguir com o *handoff* que t√≠nhamos discutido? (Assumindo a persona de Winston üèóÔ∏è para iniciar o Documento de Arquitetura v2.0 com base neste PRD).\n\n\n",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "source": "github:helton-godoy/shantilly:/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1324,
      "score": 0.66671103,
      "text": " em listas (`list:select`) \n  [cite: 1686, 1683] [cite\\_start]ou pressiona bot√µes \n  (`buttongroup:press`) [cite: 1686, 1683][cite\\_start], que disparam \n  a√ß√µes no bloco `on:`[cite: 1686, 1683].\n\n* [cite\\_start]**Foco no Teclado (Mantido):** A navega√ß√£o DEVE \n  continuar a ser primariamente baseada no teclado (Tab, Setas, \n  Enter)[cite: 1531].\n\n* [cite\\_start]**Feedback Imediato (Mantido):** O componente focado \n  DEVE ser claramente destacado[cite: 1531]. [cite\\_start]O \n  `update_target` (FR11) DEVE exibir o *output* de comandos em tempo \n  real[cite: 1686, 1683].\n\n* [cite\\_start]**Gest√£o de Foco Global (Nova):** A UI DEVE ter um \n  mecanismo claro para indicar qual painel/componente (ex: `sidebar` vs \n  `content`) est√° \"em foco\", e DEVE fornecer navega√ß√£o intuitiva *entre* \n  pain√©is (ex: Ctrl+Tab)[cite: 1686, 1683].\n\n* **Liga√ß√£o de Dados (Nova):** A UI DEVE ser reativa. \n  [cite\\_start]Componentes (ex: um `viewport` est√°tico) DEVEM ser capazes \n  de exibir dados de outros componentes (ex: `Ol√°, {{ form.username \n  }}`)[cite: 1686, 1683].\n\n### Ecr√£s e Vistas Principais\n\nN√£o h√° ecr√£s \"pr√©-definidos\". Os ecr√£s s√£o *definidos dinamicamente* \npelo utilizador atrav√©s do **`layout` YAML** (FR1). [cite\\_start]A UI √© \numa composi√ß√£o de `type: column`, `type: row`, e `type: box`[cite: 1686,\n 1683].\n\n### Alinhamento e Layout (Nova Vis√£o)\n\n[cite\\_start]O layout linear do MVP v1.0 [cite: 1531] est√° obsoleto. O novo requisito √©:\n\n* O `shantilly` DEVE renderizar com precis√£o o layout `column`/`row` definido pelo utilizador.\n\n* [cite\\_start]O `shantilly` DEVE respeitar as propriedades de \n  dimensionamento (`height`, `width`, `flex`) para distribuir o \n  espa√ßo[cite: 1686, 1683].\n\n* [cite\\_start]O `shantilly` DEVE responder a mensagens de \n  redimensionamento do terminal (`tea.WindowSizeMsg`) e re-calcular o \n  layout fluido e \"flicker-free\" (NFR2, Meta de UI Refinada)[cite: 1686, \n  1683].\n\n### Acessibilidade, Branding, Plataformas Alvo\n\n[cite\\_start]Estes requisitos permane",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "source": "github:helton-godoy/shantilly:/docs/chats/SHANTILLY RUNTIME 02 - BMad.md",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1455,
      "score": 0.6651281,
      "text": "ementa o Padr√£o Adaptador (Pensamento 2 e 3 da Se√ß√£o 3).\n\n- **Interfaces Chave:**\n  \n  - *Implementa:* `ShantillyComponent` (v2.0).\n  \n  - *Propaga Dimens√µes:* O m√©todo `SetDimensions(w, h)` deste *wrapper* definir√° `wrapper.huhModel.Width = w` e `wrapper.huhModel.Height = h` (v1.0), mitigando o Risco 4 de Layout.\n  \n  - *Traduz Eventos:* Intercepta a `huh.SubmitMsg` (v1.0) e a traduz para uma `shantillyEvent` (v2.0) (FR7, Refinamento A).\n\n- **Depend√™ncias:** C√≥digo v1.0 (`internal/tui/model.go`), `huh`.\n\n- **Pilha de Tecnologias:** `bubbletea`, `huh`.\n\n**`ListComponent` (Est√≥ria 1.3)**\n\n- **Responsabilidade:** Renderiza uma lista de itens (FR5).\n\n- **Interfaces Chave:**\n  \n  - *Implementa:* `ShantillyComponent`.\n  \n  - *Emite:* `shantillyEvent { EventType: \"select\" }` quando um item √© selecionado.\n\n- **Depend√™ncias:** `charmbracelet/bubbles/list`.\n\n- **Pilha de Tecnologias:** `bubbletea`, `bubbles`, `lipgloss`.\n\n**`ViewportComponent` (Est√≥ria 1.3)**\n\n- **Responsabilidade:** Renderiza conte√∫do est√°tico (FR4) ou *streaming* de `stdout` (FR11). Suporta Markdown (FR4).\n\n- **Interfaces Chave:**\n  \n  - *Implementa:* `ShantillyComponent`.\n  \n  - *Mitiga√ß√£o de Risco (Performance):* Implementa \"Renderiza√ß√£o em Lote + Ticker\" (Pensamento 3 da Se√ß√£o 3) para `glamour` (Markdown) para garantir o NFR2 (fluidez).\n\n- **Depend√™ncias:** `charmbracelet/bubbles/viewport`, `charmbracelet/glamour`.\n\n- **Pilha de Tecnologias:** `bubbletea`, `bubbles`, `lipgloss`, `glamour`.\n\n**`ButtonComponent` / `ButtonGroupComponent` (Est√≥ria 1.3)**\n\n- **Responsabilidade:** Renderiza bot√µes (FR6). (Nota: Pode ser implementado como parte do `FormComponent` ou como um componente separado `buttongroup`.)\n\n- **Interfaces Chave:**\n  \n  - *Implementa:* `ShantillyComponent`.\n  \n  - *Emite:* `shantillyEvent { EventType: \"press\", Payload: \"button_id\" }`.\n\n- **Depend√™ncias:** N/A (l√≥gica customizada).\n\n- **Pilha de Tecnologias:** `bubbletea`, `lipgloss`.\n\n#### Diagrama de Depend√™ncia de Componentes\n\nSnippet de c",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/chats/SHANTILLY RUNTIME 03 - BMAD.md",
        "source": "github:helton-godoy/shantilly:/docs/chats/SHANTILLY RUNTIME 03 - BMAD.md",
        "tags": [],
        "type": "doc"
      }
    },
    {
      "id": 1237,
      "score": 0.66454494,
      "text": "elecida garantir√° que qualquer evolu√ß√£o futura (Epics 2+) n√£o quebre:\n  - O contrato declarativo,\n  - As constraints de seguran√ßa,\n  - O confinamento do legado.\n\nEste plano √© vinculante para execu√ß√£o do Epic 1 v2.0 e serve como refer√™ncia direta para coordena√ß√£o entre todos os agentes.\n",
      "metadata": {
        "lang": "en",
        "library": "shantilly",
        "path": "github/helton-godoy/shantilly/docs/architecture/implementation-plan-epic-1-runtime-tui.md",
        "source": "github:helton-godoy/shantilly:/docs/architecture/implementation-plan-epic-1-runtime-tui.md",
        "tags": [],
        "type": "doc"
      }
    }
  ],
  "latency_ms": 198445
}
